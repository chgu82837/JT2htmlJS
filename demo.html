<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Json & Template => HTML DEMO Page</title>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

    <script src="jt2html.js"></script>

    <script>
        var GSHTML,docReady = false;
        function appendGSHTML(){
            if(GSHTML !== undefined && docReady){
                var body = document.getElementsByTagName('body')[0].innerHTML;
                document.getElementsByTagName('body')[0].innerHTML = GSHTML + body;
            }
        }
        JT2html(
            {
              body: "<nav class=\"navbar navbar-inverse navbar-fixed-top\" role=\"navigation\">\n    @{title}\n    <div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\">\n        @{list}\n        @{link}\n    </div><!-- /.navbar-collapse -->\n</nav>",
              title: "<div id=\"@{id}\" class=\"navbar-header @{class}\">\n    <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\">\n        <span class=\"sr-only\">Toggle navigation</span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n        <span class=\"icon-bar\"></span>\n    </button>\n\n    <div id=\"nav_title_bg\" class=\"hidden-xs\" style=\"height:50px\">\n        <a class=\"hidden-xs navbar-brand\" href=\"@{href}\" title=\"@{info}\">@{text}</a>\n    </div>\n    \n    \n    <a class=\"navbar-brand visible-xs\" href=\"@{href}\">@{text}</a>\n    <p class=\"navbar-text visible-xs\">@{info}</p>\n</div>\n\n",
              list: "<ul id=\"@{id}\" class=\"nav navbar-nav @{class}\">\n    <li class=\"dropdown\">\n        <a href=\"@{href}\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">@{text}<b class=\"caret\"></b></a>\n        <ul class=\"dropdown-menu\">\n            @{}\n        </ul>\n    </li>\n</ul>",
              link: "<ul id=\"@{id}\" class=\"nav navbar-nav @{class}\">\n    <li><a href=\"@{href}\" target=\"_blank\">@{text}</a></li>\n</ul>",
              "": "<li id=\"@{id}\" class=\"@{class}\"><a href=\"@{href}\">@{text}</a></li>"
            }
        ).fromGS("https://spreadsheets.google.com/feeds/list/1huBErviY2ehb7duwyI5mOzc9y3Ia5yBFQTvPaTyVfFM/od6/public/values?alt=json",function(HTML){
            console.log("== FromGS Result ===============\n" + HTML + "\n==================================");
            GSHTML = HTML;
            appendGSHTML();
        });

        jQuery(document).ready(function(){
            var result = JT2html(
                {
                    body: "@{title}:@{list}",
                    title: "@{text}",
                    list: "[@{name}]: @{des} ... ",
                }
            ).fromJson([
                {
                    "type":"title",
                    "text":"JT2HTML DEMO 1"
                },
                {
                    "type":"list",
                    "name":"hello1",
                    "des":"1234567890"
                },
                {
                    "type":"list",
                    "name":"hello2",
                    "des":"ABCD"
                }
            ]);
            jQuery('#test').text(result);
            console.log("== FromJSON Result ===============\n" + result + "\n==================================");

            docReady = true;
            appendGSHTML();
        });
    </script>

    <style>
        body{
            margin-top:80px;
        }
    </style>
    </head>
<body>
    <h1>Json & Template => HTML DEMO Page</h1>
    <h1>The navigation bar is generated by JT2htmlJS.</h1>
    <p id="test"></p>
</body>
</html>
